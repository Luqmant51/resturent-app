<%- include('../partials/headeradmin') %>

<section class="about_section layout_padding">
  <div class="container">
    <div class="heading_container">
      <h2 class="text-center mb-5">
        Registered Users
      </h2>
    </div>

    <div class="table-responsive">
      <table class="table table-bordered table-striped table-hover bg-white">
        <thead class="thead-dark">
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Email</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <% users.forEach((user, index) => { %>
            <tr class="text-white bg-dark">
              <td><%= index + 1 %></td>
              <td><%= user.user_name %></td>
              <td><%= user.user_email %></td>
              <td>
                <form action="/user/<%= user.user_id %>/make-admin" method="POST" style="display:inline;">
                  <button class="btn btn-sm <%= user.is_admin ? 'btn-danger' : 'btn-primary' %>" type="submit">
                    <%= user.is_admin ? 'Remove Admin' : 'Make Admin' %>
                  </button>
                </form>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</section>

<%- include('../partials/footer') %>
